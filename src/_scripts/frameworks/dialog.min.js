/*! salut-one-page 2021-03-23 */

var aria=aria||{};aria.Utils=aria.Utils||{},aria.Utils.IgnoreUtilFocusChanges=!1,aria.Utils.dialogOpenClass="has-dialog",aria.Utils.focusFirstDescendant=function(e){for(var i=0;i<e.childNodes.length;i++){var t=e.childNodes[i];if(aria.Utils.attemptFocus(t)||aria.Utils.focusFirstDescendant(t))return!0}return!1},aria.Utils.focusLastDescendant=function(e){for(var i=e.childNodes.length-1;0<=i;i--){var t=e.childNodes[i];if(aria.Utils.attemptFocus(t)||aria.Utils.focusLastDescendant(t))return!0}return!1},aria.Utils.attemptFocus=function(e){if(!aria.Utils.isFocusable(e))return!1;aria.Utils.IgnoreUtilFocusChanges=!0;try{e.focus()}catch(e){}return aria.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===e},aria.OpenDialogList=aria.OpenDialogList||new Array(0),aria.getCurrentDialog=function(){if(aria.OpenDialogList&&aria.OpenDialogList.length)return aria.OpenDialogList[aria.OpenDialogList.length-1]},aria.closeCurrentDialog=function(){var e=aria.getCurrentDialog();return!!e&&(e.close(),!0)},aria.handleEscape=function(e){(e.which||e.keyCode)===aria.KeyCode.ESC&&aria.closeCurrentDialog()&&e.stopPropagation()},document.addEventListener("keyup",aria.handleEscape),aria.Dialog=function(e,i,t){if(this.dialogNode=document.getElementById(e),null===this.dialogNode)throw new Error('No element found with id="'+e+'".');var a=["dialog","alertdialog"];if(!(this.dialogNode.getAttribute("role")||"").trim().split(/\s+/g).some(function(i){return a.some(function(e){return i===e})}))throw new Error("Dialog() requires a DOM element with ARIA role of dialog or alertdialog.");e="dialog-backdrop";if(this.dialogNode.parentNode.classList.contains(e)?this.backdropNode=this.dialogNode.parentNode:(this.backdropNode=document.createElement("div"),this.backdropNode.className=e,this.dialogNode.parentNode.insertBefore(this.backdropNode,this.dialogNode),this.backdropNode.appendChild(this.dialogNode)),this.backdropNode.classList.add("active"),document.body.classList.add(aria.Utils.dialogOpenClass),"string"==typeof i)this.focusAfterClosed=document.getElementById(i);else{if("object"!=typeof i)throw new Error("the focusAfterClosed parameter is required for the aria.Dialog constructor.");this.focusAfterClosed=i}this.focusFirst="string"==typeof t?document.getElementById(t):"object"==typeof t?t:null;t=document.createElement("div");this.preNode=this.dialogNode.parentNode.insertBefore(t,this.dialogNode),this.preNode.tabIndex=0;t=document.createElement("div");this.postNode=this.dialogNode.parentNode.insertBefore(t,this.dialogNode.nextSibling),(this.postNode.tabIndex=0)<aria.OpenDialogList.length&&aria.getCurrentDialog().removeListeners(),this.addListeners(),aria.OpenDialogList.push(this),this.clearDialog(),this.focusFirst?this.focusFirst.focus():aria.Utils.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement},aria.Dialog.prototype.clearDialog=function(){Array.prototype.map.call(this.dialogNode.querySelectorAll("input"),function(e){e.value=""})},aria.Dialog.prototype.close=function(){aria.OpenDialogList.pop(),this.removeListeners(),aria.Utils.remove(this.preNode),aria.Utils.remove(this.postNode),this.dialogNode.className="hidden",this.backdropNode.classList.remove("active"),this.focusAfterClosed.focus(),0<aria.OpenDialogList.length?aria.getCurrentDialog().addListeners():document.body.classList.remove(aria.Utils.dialogOpenClass)},aria.Dialog.prototype.replace=function(e,i,t){aria.getCurrentDialog();aria.OpenDialogList.pop(),this.removeListeners(),aria.Utils.remove(this.preNode),aria.Utils.remove(this.postNode),this.dialogNode.className="hidden",this.backdropNode.classList.remove("active");i=i||this.focusAfterClosed,new aria.Dialog(e,i,t)},aria.Dialog.prototype.addListeners=function(){document.addEventListener("focus",this.trapFocus,!0)},aria.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",this.trapFocus,!0)},aria.Dialog.prototype.trapFocus=function(e){var i;aria.Utils.IgnoreUtilFocusChanges||((i=aria.getCurrentDialog()).dialogNode.contains(e.target)?i.lastFocus=e.target:(aria.Utils.focusFirstDescendant(i.dialogNode),i.lastFocus==document.activeElement&&aria.Utils.focusLastDescendant(i.dialogNode),i.lastFocus=document.activeElement))},window.openDialog=function(e,i,t){new aria.Dialog(e,i,t)},window.closeDialog=function(e){var i=aria.getCurrentDialog();i.dialogNode.contains(e)&&i.close()},window.replaceDialog=function(e,i,t){var a=aria.getCurrentDialog();a.dialogNode.contains(document.activeElement)&&a.replace(e,i,t)};
//# sourceMappingURL=dialog.min.js.map